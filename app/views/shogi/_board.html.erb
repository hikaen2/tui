<div class="capturedPiece-white">
  <span style="writing-mode: vertical-rl; font-size: 3rem; transform: rotate(180deg);">
    <%= @pos.hand_white.map(&:to_s).join %>
  </span>
</div>

<div>
  <table class="shogi">
    <tbody>
    <tr>
      <td class="d">9</td>
      <td class="d">8</td>
      <td class="d">7</td>
      <td class="d">6</td>
      <td class="d">5</td>
      <td class="d">4</td>
      <td class="d">3</td>
      <td class="d">2</td>
      <td class="d">1</td>
    </tr>
    <% (1..9).each do |y| %>
      <tr>
        <% (1..9).to_a.reverse.each do |x| %>
		  <td class="<%= 'is-last' if (@last.file_to == x && @last.rank_to == y) || (@last.file_from == x && @last.rank_from == y) %> <%= @pos.look_at(x, y) == nil ? '' : @pos.look_at(x, y).side == 0 ? 'black' : 'white' %>">
            <span class="<%= 'rotate' if !@pos.look_at(x, y).nil? and @pos.look_at(x, y).side == 1 %>"><%= @pos.look_at(x, y) %></span>
          </td>
        <% end %>
        <td class="l"><%= ['〇', '一', '二', '三', '四', '五', '六', '七', '八', '九'][y] %></td>
      </tr>
    <% end %>
    </tbody>
  </table>
</div>
<div class="capturedPiece-black">
<span style="writing-mode: vertical-rl; text-align:right; font-size: 3rem;">
  <%= @pos.hand_black.map(&:to_s).join %>
</span>
</div>